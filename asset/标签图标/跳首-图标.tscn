[gd_scene load_steps=2 format=3 uid="uid://i5vyn2orxujy"]

[sub_resource type="GDScript" id="GDScript_uj08m"]
script/source = "			##                ##########################
######## ## ## #####    ##### # []
## ## ## ## ## ## ##    ## ## # 2024-
## ## ## ## ## ## ## ## ## ## # milo-o.fun@qq.com
## ## ## ## ## #####    ##### ##########################

## 
@tool extends Control

@export var update = false

@export var 边长 :int
@export_range(0,1) var 框隔率 :float
@export_range(0,1) var 凹凸率 :float
@export_range(0,1) var 尾间率 :float
@export_range(0,1) var 尾带率 :float

@export var 颜色 :Color

func _ready():
	pass

func _process(delta):
	if update:
		update = false
		绘制()

func 绘制():
	custom_minimum_size = Vector2(边长,边长)
	
	var 主带基围 = size*(1-框隔率)	
	
	var 首带基围 = Vector2(1,尾带率)*主带基围
	var 首带点集 = MP·绘图.矩形(首带基围,size*框隔率/2)
	$\"首带\".polygon = 首带点集
	$\"首带\".color = 颜色
	
	var 插偏 = -Vector2(0,1)*主带基围*凹凸率
	var 旁偏 = Vector2(0,0)
	var 主带实围 = 主带基围*Vector2(1,1-尾间率-尾带率)
	var 位置 = size*框隔率/2+主带基围*Vector2(0,尾间率+尾带率)
	var 主带点集 = MP·绘图.全标(主带实围,位置,3,插偏,旁偏)
	$\"主带\".polygon = 主带点集
	$\"主带\".color = 颜色
	
"

[node name="跳首-图标" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = -1052.0
offset_bottom = -548.0
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_uj08m")
"边长" = 100
"框隔率" = 0.2
"凹凸率" = 0.3
"尾间率" = 0.1
"尾带率" = 0.2
"颜色" = Color(0.664875, 0.453215, 0.847954, 1)

[node name="主带" type="Polygon2D" parent="."]
color = Color(0.664875, 0.453215, 0.847954, 1)
polygon = PackedVector2Array(10, 34, 90, 34, 90, 90, 50, 66, 10, 90)

[node name="首带" type="Polygon2D" parent="."]
color = Color(0.664875, 0.453215, 0.847954, 1)
polygon = PackedVector2Array(10, 10, 90, 10, 90, 26, 10, 26)
